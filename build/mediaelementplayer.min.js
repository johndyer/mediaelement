/*!
 * MediaElement.js
 * http://www.mediaelement.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2016, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
void 0!==jQuery?mejs.$=jQuery:void 0!==Zepto?(mejs.$=Zepto,Zepto.fn.outerWidth=function(a){var b=$(this).width();return a&&(b+=parseInt($(this).css("margin-right"),10),b+=parseInt($(this).css("margin-left"),10)),b}):void 0!==ender&&(mejs.$=ender),function(a,b,c,d,e){a.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return.05*a.duration},defaultSeekForwardInterval:function(a){return.05*a.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(b,c,d,e){a.MediaFeatures.isFirefox||(c.paused||c.ended?c.play():c.pause())}},{keys:[38],action:function(a,b,c,d){(a.container.find("."+t.options.classPrefix+"volume-button>button").is(":focus")||a.container.find("."+t.options.classPrefix+"volume-slider").is(":focus"))&&a.container.find("."+t.options.classPrefix+"volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.min(b.volume+.1,1);b.setVolume(e),e>0&&b.setMuted(!1)}},{keys:[40],action:function(a,b,c,d){(a.container.find("."+t.options.classPrefix+"volume-button>button").is(":focus")||a.container.find("."+t.options.classPrefix+"volume-slider").is(":focus"))&&a.container.find("."+t.options.classPrefix+"volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.max(b.volume-.1,0);b.setVolume(e),.1>=e&&b.setMuted(!0)}},{keys:[37,227],action:function(a,b,c,d){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(e)}}},{keys:[39,228],action:function(a,b,c,d){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var e=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(e)}}},{keys:[70],action:function(a,b,c,d){d.ctrlKey||"undefined"!=typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}},{keys:[77],action:function(a,b,c,d){a.container.find("."+t.options.classPrefix+"volume-slider").css("display","block"),a.isVideo&&(a.showControls(),a.startControlsTimer()),a.media.muted?a.setMuted(!1):a.setMuted(!0)}}]},a.mepIndex=0,a.players={},a.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c]))},a.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&(a.detachEvent("on"+b,a[b+c]),a[b+c]=null)},a.getElementsByClassName=function(a,b,c){if((b===e||null===b)&&(b=document),b.getElementsByClassName!==e&&null!==b.getElementsByClassName)return b.getElementsByClassName(a);(c===e||null===c)&&(c="*");var d,f=[],g=0,h=b.getElementsByTagName(c),j=h.length;for(i=0;i<j;i++)-1!=h[i].className.indexOf(a)&&(d=","+h[i].className.split(" ").join(",")+",",-1!=d.indexOf(","+a+",")&&(f[g]=h[i],g++));return f},a.MediaElementPlayer=function(c,d){if(!(this instanceof a.MediaElementPlayer))return new a.MediaElementPlayer(c,d);var f=this;return f.$media=f.$node=b(c),f.node=f.media=f.$media[0],f.node?"undefined"!=typeof f.node.player?f.node.player:(d===e&&(d=f.$node.data("mejsoptions")),f.options=b.extend({},a.MepDefaults,d),f.options.timeFormat||(f.options.timeFormat="mm:ss",f.options.alwaysShowHours&&(f.options.timeFormat="hh:mm:ss"),f.options.showTimecodeFrameCount&&(f.options.timeFormat+=":ff")),a.Utility.calculateTimeFormat(0,f.options,f.options.framesPerSecond||25),f.id="mep_"+a.mepIndex++,a.players[f.id]=f,f.init(),f):null},a.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var c=this,d=a.MediaFeatures,f=b.extend({},c.options,{success:function(a,b){c.meReady(a,b)},error:function(a){c.handleError(a)}}),g=c.media.tagName.toLowerCase();if(c.isDynamic="audio"!==g&&"video"!==g,c.isDynamic?c.isVideo=c.options.isVideo:c.isVideo="audio"!==g&&c.options.isVideo,d.isiPad&&c.options.iPadUseNativeControls||d.isiPhone&&c.options.iPhoneUseNativeControls)c.$media.attr("controls","controls"),d.isiPad&&null!==c.media.getAttribute("autoplay")&&c.play();else if(d.isAndroid&&c.options.AndroidUseNativeControls);else if(c.isVideo||!c.isVideo&&c.options.features.length){c.$media.removeAttr("controls");var h=c.isVideo?a.i18n.t("mejs.video-player"):a.i18n.t("mejs.audio-player");b('<span class="'+c.options.classPrefix+'offscreen">'+h+"</span>").insertBefore(c.$media),c.container=b('<div id="'+c.id+'"class="'+c.options.classPrefix+"container "+c.options.classPrefix+'container-keyboard-inactive" tabindex="0" role="application" aria-label="'+h+'"><div class="'+c.options.classPrefix+'inner"><div class="'+c.options.classPrefix+'mediaelement"></div><div class="'+c.options.classPrefix+'layers"></div><div class="'+c.options.classPrefix+'controls"></div><div class="'+c.options.classPrefix+'clear"></div></div></div>').addClass(c.$media[0].className).insertBefore(c.$media).focus(function(b){if(!c.controlsAreVisible&&!c.hasFocus&&c.controlsEnabled&&(c.showControls(!0),!c.hasMsNativeFullScreen)){var d="."+c.options.classPrefix+"playpause-button > button";a.Utility.isNodeAfter(b.relatedTarget,c.container[0])&&(d="."+c.options.classPrefix+"controls ."+c.options.classPrefix+"button:last-child > button");var e=c.container.find(d);e.focus()}}),c.options.features.length||c.container.css("background","transparent").find("."+c.options.classPrefix+"controls").hide(),c.isVideo&&"fill"===c.options.stretching&&!c.container.parent("."+c.options.classPrefix+"fill-container").length&&(c.outerContainer=c.$media.parent(),c.container.wrap('<div class="'+c.options.classPrefix+'fill-container"/>')),c.container.addClass((d.isAndroid?c.options.classPrefix+"android ":"")+(d.isiOS?c.options.classPrefix+"ios ":"")+(d.isiPad?c.options.classPrefix+"ipad ":"")+(d.isiPhone?c.options.classPrefix+"iphone ":"")+(c.isVideo?c.options.classPrefix+"video ":c.options.classPrefix+"audio ")),c.container.find("."+c.options.classPrefix+"mediaelement").append(c.$media),c.node.player=c,c.controls=c.container.find("."+c.options.classPrefix+"controls"),c.layers=c.container.find("."+c.options.classPrefix+"layers");var i=c.isVideo?"video":"audio",j=i.substring(0,1).toUpperCase()+i.substring(1);c.options[i+"Width"]>0||c.options[i+"Width"].toString().indexOf("%")>-1?c.width=c.options[i+"Width"]:""!==c.media.style.width&&null!==c.media.style.width?c.width=c.media.style.width:null!==c.media.getAttribute("width")?c.width=c.$media.attr("width"):c.width=c.options["default"+j+"Width"],c.options[i+"Height"]>0||c.options[i+"Height"].toString().indexOf("%")>-1?c.height=c.options[i+"Height"]:""!==c.media.style.height&&null!==c.media.style.height?c.height=c.media.style.height:null!==c.$media[0].getAttribute("height")?c.height=c.$media.attr("height"):c.height=c.options["default"+j+"Height"],c.initialAspectRatio=c.height>=c.width?c.width/c.height:c.height/c.width,c.setPlayerSize(c.width,c.height),f.pluginWidth=c.width,f.pluginHeight=c.height}else c.isVideo||c.options.features.length||c.$media.hide();a.MediaElement(c.$media[0],f),c.container!==e&&c.options.features.length&&c.controlsAreVisible&&!c.options.hideVideoControlsOnLoad&&c.container.trigger("controlsshown")},showControls:function(a){var b=this;a=a===e||a,b.controlsAreVisible||(a?(b.controls.removeClass(b.options.classPrefix+"offscreen").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0,b.container.trigger("controlsshown")}),b.container.find("."+b.options.classPrefix+"control").removeClass(b.options.classPrefix+"offscreen").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.removeClass(b.options.classPrefix+"offscreen").css("display","block"),b.container.find("."+b.options.classPrefix+"control").removeClass(b.options.classPrefix+"offscreen").css("display","block"),b.controlsAreVisible=!0,b.container.trigger("controlsshown")),b.setControlsSize())},hideControls:function(a){var c=this;a=a===e||a,!c.controlsAreVisible||c.options.alwaysShowControls||c.keyboardAction||c.media.paused&&4===c.media.readyState||c.isVideo&&!c.options.hideVideoControlsOnLoad||c.media.ended||(a?(c.controls.stop(!0,!0).fadeOut(200,function(){b(this).addClass(c.options.classPrefix+"offscreen").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")}),c.container.find("."+c.options.classPrefix+"control").stop(!0,!0).fadeOut(200,function(){b(this).addClass(c.options.classPrefix+"offscreen").css("display","block")})):(c.controls.addClass(c.options.classPrefix+"offscreen").css("display","block"),c.container.find("."+c.options.classPrefix+"control").addClass(c.options.classPrefix+"offscreen").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(a){var b=this;a="undefined"!=typeof a?a:b.options.controlsTimeoutDefault,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(a){var b=this;null!==b.controlsTimer&&(clearTimeout(b.controlsTimer),delete b.controlsTimer,b.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var a=this;a.killControlsTimer(),a.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var a=this;a.showControls(!1),a.controlsEnabled=!0},meReady:function(c,d){var f,g,h=this,i=a.MediaFeatures,j=d.getAttribute("autoplay"),k=!(j===e||null===j||"false"===j),l=null!==c.rendererName&&c.rendererName.match(/(native|html5)/);if(!h.created){if(h.created=!0,h.media=c,h.domNode=d,!(i.isAndroid&&h.options.AndroidUseNativeControls||i.isiPad&&h.options.iPadUseNativeControls||i.isiPhone&&h.options.iPhoneUseNativeControls)){if(!h.isVideo&&!h.options.features.length)return k&&l&&h.play(),void(h.options.success&&("string"==typeof h.options.success?window[h.options.success](h.media,h.domNode,h):h.options.success(h.media,h.domNode,h)));h.buildposter(h,h.controls,h.layers,h.media),h.buildkeyboard(h,h.controls,h.layers,h.media),h.buildoverlays(h,h.controls,h.layers,h.media),h.findTracks();for(f in h.options.features)if(g=h.options.features[f],h["build"+g])try{h["build"+g](h,h.controls,h.layers,h.media)}catch(m){}h.container.trigger("controlsready"),h.setPlayerSize(h.width,h.height),h.setControlsSize(),h.isVideo&&(a.MediaFeatures.hasTouch&&!h.options.alwaysShowControls?h.$media.on("touchstart",function(){h.controlsAreVisible?h.hideControls(!1):h.controlsEnabled&&h.showControls(!1)}):(h.clickToPlayPauseCallback=function(){if(h.options.clickToPlayPause){var a=h.$media.closest("."+h.options.classPrefix+"container").find("."+h.options.classPrefix+"overlay-button"),b=a.attr("aria-pressed");h.media.paused&&b?h.pause():h.media.paused?h.play():h.pause(),a.attr("aria-pressed",!b)}},h.media.addEventListener("click",h.clickToPlayPauseCallback,!1),h.container.on("mouseenter",function(){h.controlsEnabled&&(h.options.alwaysShowControls||(h.killControlsTimer("enter"),h.showControls(),h.startControlsTimer(h.options.controlsTimeoutMouseEnter)))}).on("mousemove",function(){h.controlsEnabled&&(h.controlsAreVisible||h.showControls(),h.options.alwaysShowControls||h.startControlsTimer(h.options.controlsTimeoutMouseEnter))}).on("mouseleave",function(){h.controlsEnabled&&(h.media.paused||h.options.alwaysShowControls||h.startControlsTimer(h.options.controlsTimeoutMouseLeave))})),h.options.hideVideoControlsOnLoad&&h.hideControls(!1),k&&!h.options.alwaysShowControls&&h.hideControls(),h.options.enableAutosize&&h.media.addEventListener("loadedmetadata",function(a){h.options.videoHeight<=0&&!h.domNode.getAttribute("height")&&!isNaN(a.target.videoHeight)&&(h.setPlayerSize(a.target.videoWidth,a.target.videoHeight),h.setControlsSize(),h.media.setSize(a.target.videoWidth,a.target.videoHeight))},!1)),h.media.addEventListener("play",function(){var b;h.hasFocus=!0;for(b in a.players){var c=a.players[b];c.id===h.id||!h.options.pauseOtherPlayers||c.paused||c.ended||(c.pause(),c.hasFocus=!1)}},!1),h.media.addEventListener("ended",function(a){if(h.options.autoRewind)try{h.media.setCurrentTime(0),window.setTimeout(function(){b(h.container).find("."+h.options.classPrefix+"overlay-loading").parent().hide()},20)}catch(c){}"function"==typeof h.media.stop?h.media.stop():h.media.pause(),h.setProgressRail&&h.setProgressRail(),h.setCurrentRail&&h.setCurrentRail(),h.options.loop?h.play():!h.options.alwaysShowControls&&h.controlsEnabled&&h.showControls()},!1),h.media.addEventListener("loadedmetadata",function(){a.Utility.calculateTimeFormat(h.duration,h.options,h.options.framesPerSecond||25),h.updateDuration&&h.updateDuration(),h.updateCurrent&&h.updateCurrent(),h.isFullScreen||(h.setPlayerSize(h.width,h.height),h.setControlsSize())},!1);var n=null;h.media.addEventListener("timeupdate",function(){n!==this.duration&&(n=this.duration,a.Utility.calculateTimeFormat(n,h.options,h.options.framesPerSecond||25),h.updateDuration&&h.updateDuration(),h.updateCurrent&&h.updateCurrent(),h.setControlsSize())},!1),h.container.focusout(function(a){if(a.relatedTarget){var c=b(a.relatedTarget);h.keyboardAction&&0===c.parents("."+h.options.classPrefix+"container").length&&(h.keyboardAction=!1,h.isVideo&&!h.options.alwaysShowControls&&h.hideControls(!0))}}),setTimeout(function(){h.setPlayerSize(h.width,h.height),h.setControlsSize()},50),h.globalBind("resize",function(){h.isFullScreen||a.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||h.setPlayerSize(h.width,h.height),h.setControlsSize()}),h.globalBind("click",function(a){b(a.target).is("."+h.options.classPrefix+"container")?b(a.target).addClass(h.options.classPrefix+"container-keyboard-inactive"):b(a.target).closest("."+h.options.classPrefix+"container").length&&b(a.target).closest("."+h.options.classPrefix+"container").addClass(h.options.classPrefix+"container-keyboard-inactive")}),h.globalBind("keydown",function(a){b(a.target).is("."+h.options.classPrefix+"container")?b(a.target).removeClass(h.options.classPrefix+"container-keyboard-inactive"):b(a.target).closest("."+h.options.classPrefix+"container").length&&b(a.target).closest("."+h.options.classPrefix+"container").removeClass(h.options.classPrefix+"container-keyboard-inactive")}),null!==h.media.rendererName&&h.media.rendererName.match(/youtube/)&&(i.isiOS||i.isAndroid)&&(h.container.find("."+h.options.classPrefix+"overlay-play").hide(),h.container.find("."+h.options.classPrefix+"poster").hide())}k&&l&&h.play(),h.options.success&&("string"==typeof h.options.success?window[h.options.success](h.media,h.domNode,h):h.options.success(h.media,h.domNode,h))}},handleError:function(a){var b=this;b.controls&&b.disableControls(),b.options.error&&b.options.error(a)},setPlayerSize:function(a,c){var d=this;if(!d.options.setDimensions)return!1;if("undefined"!=typeof a&&(d.width=a),"undefined"!=typeof c&&(d.height=c),"undefined"!=typeof FB&&d.isVideo){FB.Event.subscribe("xfbml.ready",function(){var a=b(d.media).children(".fb-video");return d.width=a.width(),d.height=a.height(),d.setDimensions(d.width,d.height),!1});var e=b(d.media).children(".fb-video");e.length&&(d.width=e.width(),d.height=e.height())}switch(d.options.stretching){case"fill":d.isVideo?d.setFillMode():d.setDimensions(d.width,d.height);break;case"responsive":d.setResponsiveMode();break;case"none":d.setDimensions(d.width,d.height);break;default:d.hasFluidMode()===!0?d.setResponsiveMode():d.setDimensions(d.width,d.height)}},hasFluidMode:function(){var a=this;return a.height.toString().indexOf("%")>-1||"none"!==a.$node.css("max-width")&&a.$node.css("max-width")!==a.width||a.$node[0].currentStyle&&"100%"===a.$node[0].currentStyle.maxWidth},setResponsiveMode:function(){var a,d=this,e=function(){return d.isVideo?d.media.videoWidth&&d.media.videoWidth>0?d.media.videoWidth:null!==d.media.getAttribute("width")?d.media.getAttribute("width"):d.options.defaultVideoWidth:d.options.defaultAudioWidth}(),f=function(){return d.isVideo?d.media.videoHeight&&d.media.videoHeight>0?d.media.videoHeight:null!==d.media.getAttribute("height")?d.media.getAttribute("height"):d.options.defaultVideoHeight:d.options.defaultAudioHeight}(),g=function(){return ratio=1,d.isVideo?(d.media.videoWidth&&d.media.videoWidth>0&&d.media.videoHeight&&d.media.videoHeight>0?ratio=d.height>=d.width?d.media.videoWidth/d.media.videoHeight:d.media.videoHeight/d.media.videoWidth:ratio=d.initialAspectRatio,(isNaN(ratio)||ratio<.01||ratio>100)&&(ratio=1),ratio):ratio}(),h=d.container.parent().closest(":visible").width(),i=d.container.parent().closest(":visible").height();a=d.isVideo?"100%"===d.height?parseInt(h*f/e,10):d.height>=d.width?parseInt(h/g,10):parseInt(h*g,10):f,isNaN(a)&&(a=i),d.container.parent().length>0&&"body"===d.container.parent()[0].tagName.toLowerCase()&&(h=b(c).width(),a=b(c).height()),a&&h&&(d.container.width(h).height(a),d.$media.width("100%").height("100%"),d.isVideo&&d.media.setSize&&d.media.setSize(h,a),d.layers.children("."+d.options.classPrefix+"layer").width("100%").height("100%"))},setFillMode:function(){var a=this,b=a.outerContainer;"none"!==a.$node.css("height")&&a.$node.css("height")!==a.height&&a.$node.css("height",""),"none"!==a.$node.css("max-width")&&a.$node.css("max-width")!==a.width&&a.$node.css("max-width",""),"none"!==a.$node.css("max-height")&&a.$node.css("max-height")!==a.height&&a.$node.css("max-height",""),a.$node[0].currentStyle&&("100%"===a.$node[0].currentStyle.height&&(a.$node[0].currentStyle.height=""),"100%"===a.$node[0].currentStyle.maxWidth&&(a.$node[0].currentStyle.maxWidth=""),"100%"===a.$node[0].currentStyle.maxHeight&&(a.$node[0].currentStyle.maxHeight="")),b.width()||b.height(a.$media.width()),b.height()||b.height(a.$media.height());var c=b.width(),d=b.height();a.setDimensions("100%","100%"),a.container.find("."+a.options.classPrefix+"poster img").css("display","block"),targetElement=a.container.find("object, embed, iframe, video");var e=a.height,f=a.width,g=c,h=e*c/f,i=f*d/e,j=d,k=i>c==!1,l=k?Math.floor(g):Math.floor(i),m=k?Math.floor(h):Math.floor(j);k?(targetElement.height(m).width(c),a.media.setSize&&a.media.setSize(c,m)):(targetElement.height(d).width(l),a.media.setSize&&a.media.setSize(l,d)),targetElement.css({"margin-left":Math.floor((c-l)/2),"margin-top":0})},setDimensions:function(a,b){var c=this;c.container.width(a).height(b),c.layers.children("."+c.options.classPrefix+"layer").width(a).height(b)},setControlsSize:function(){var a=this,c=a.controls.find("."+a.options.classPrefix+"time-rail");if(a.container.is(":visible")&&c.length&&c.is(":visible")){var d=a.controls.children(),e=parseFloat(d.children("."+a.options.classPrefix+"time-total").css("margin-left")),f=0;c.siblings().each(function(){f+=b(this).outerWidth(!0)}),f+=2*e,c.width("100%").width("-="+f),a.container.trigger("controlsresize")}},buildposter:function(a,c,d,e){var f=this,g=b('<div class="'+f.options.classPrefix+"poster "+f.options.classPrefix+'layer"></div>').appendTo(d),h=a.$media.attr("poster");""!==a.options.poster&&(h=a.options.poster),h?f.setPoster(h):g.hide(),e.addEventListener("play",function(){g.hide()},!1),a.options.showPosterWhenEnded&&a.options.autoRewind&&e.addEventListener("ended",function(){g.show()},!1)},setPoster:function(a){var c=this,d=c.container.find("."+c.options.classPrefix+"poster"),e=d.find("img");0===e.length&&(e=b('<img class="'+c.options.classPrefix+'poster-img" width="100%" height="100%" alt="" />').appendTo(d)),e.attr("src",a),d.css({"background-image":"url("+a+")"})},buildoverlays:function(c,d,e,f){var g=this;if(c.isVideo){var h=b('<div class="'+g.options.classPrefix+"overlay "+g.options.classPrefix+'layer"><div class="'+g.options.classPrefix+'overlay-loading"><span class="'+g.options.classPrefix+'overlay-loading-bg-img"></span></div></div>').hide().appendTo(e),i=b('<div class="'+g.options.classPrefix+"overlay "+g.options.classPrefix+'layer"><div class="'+g.options.classPrefix+'overlay-error"></div></div>').hide().appendTo(e),j=b('<div class="'+g.options.classPrefix+"overlay "+g.options.classPrefix+"layer "+g.options.classPrefix+'overlay-play"><div class="'+g.options.classPrefix+'overlay-button" role="button" aria-label="'+a.i18n.t("mejs.play")+'" aria-pressed="false"></div></div>').appendTo(e).on("click",function(){if(g.options.clickToPlayPause){var a=g.$media.closest("."+g.options.classPrefix+"container").find("."+g.options.classPrefix+"overlay-button"),b=a.attr("aria-pressed");f.paused?f.play():f.pause(),a.attr("aria-pressed",!!b)}});null!==g.media.rendererName&&g.media.rendererName.match(/(youtube|facebook)/)&&j.hide(),f.addEventListener("play",function(){j.hide(),h.hide(),d.find("."+g.options.classPrefix+"time-buffering").hide(),i.hide()},!1),f.addEventListener("playing",function(){j.hide(),h.hide(),d.find("."+g.options.classPrefix+"time-buffering").hide(),i.hide()},!1),f.addEventListener("seeking",function(){h.show(),d.find("."+g.options.classPrefix+"time-buffering").show()},!1),f.addEventListener("seeked",function(){h.hide(),d.find("."+g.options.classPrefix+"time-buffering").hide()},!1),f.addEventListener("pause",function(){j.show()},!1),f.addEventListener("waiting",function(){h.show(),d.find("."+g.options.classPrefix+"time-buffering").show()},!1),f.addEventListener("loadeddata",function(){h.show(),d.find("."+g.options.classPrefix+"time-buffering").show(),a.MediaFeatures.isAndroid&&(f.canplayTimeout=window.setTimeout(function(){if(document.createEvent){var a=document.createEvent("HTMLEvents");return a.initEvent("canplay",!0,!0),f.dispatchEvent(a)}},300))},!1),f.addEventListener("canplay",function(){h.hide(),d.find("."+g.options.classPrefix+"time-buffering").hide(),clearTimeout(f.canplayTimeout)},!1),f.addEventListener("error",function(a){g.handleError(a),h.hide(),j.hide(),i.show(),i.find("."+g.options.classPrefix+"overlay-error").html("Error loading this resource")},!1),f.addEventListener("keydown",function(a){g.onkeydown(c,f,a)},!1)}},buildkeyboard:function(a,c,d,e){var f=this;f.container.keydown(function(){f.keyboardAction=!0}),f.globalBind("keydown",function(c){var d=b(c.target).closest("."+f.options.classPrefix+"container");return a.hasFocus=0!==d.length&&d.attr("id")===a.$media.closest("."+f.options.classPrefix+"container").attr("id"),f.onkeydown(a,e,c)}),f.globalBind("click",function(c){a.hasFocus=0!==b(c.target).closest("."+f.options.classPrefix+"container").length})},onkeydown:function(a,b,c){if(a.hasFocus&&a.options.enableKeyboard)for(var d=0,e=a.options.keyActions.length;e>d;d++)for(var f=a.options.keyActions[d],g=0,h=f.keys.length;h>g;g++)if(c.keyCode===f.keys[g])return"function"==typeof c.preventDefault&&c.preventDefault(),f.action(a,b,c.keyCode,c),!1;return!0},findTracks:function(){var a=this,c=a.$media.find("track");a.tracks=[],c.each(function(c,d){d=b(d);var e=d.attr("srclang")?d.attr("srclang").toLowerCase():"",f=a.id+"_track_"+c+"_"+d.attr("kind")+"_"+e;a.tracks.push({trackId:f,srclang:e,src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){var b=this;b.container[0].className=b.options.classPrefix+"container "+a,b.setPlayerSize(b.width,b.height),b.setControlsSize()},play:function(){var a=this;a.media.getCurrentTime()<=0&&a.load(),a.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){var a=this;a.isLoaded||a.media.load(),a.isLoaded=!0},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var b,c,d=this;for(b in d.options.features)if(c=d.options.features[b],d["clean"+c])try{d["clean"+c](d)}catch(e){}d.isDynamic?d.$node.insertBefore(d.container):(d.$media.prop("controls",!0),d.$node.clone().insertBefore(d.container).show(),d.$node.remove());var f=null!==d.media.rendererName&&d.media.rendererName.match(/(native|html5)/);f||d.media.remove(),delete a.players[d.id],"object"==typeof d.container&&(d.container.prev("."+d.options.classPrefix+"offscreen").remove(),d.container.remove()),d.globalUnbind(),delete d.node.player},rebuildtracks:function(){var a=this;a.findTracks(),a.buildtracks(a,a.controls,a.layers,a.media)},resetSize:function(){var a=this;setTimeout(function(){a.setPlayerSize(a.width,a.height),a.setControlsSize()},50)}},function(){function c(a,c){var e={d:[],w:[]};return b.each((a||"").split(" "),function(a,b){var f=b+"."+c;0===f.indexOf(".")?(e.d.push(f),e.w.push(f)):e[d.test(b)?"w":"d"].push(f)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}var d=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;a.MediaElementPlayer.prototype.globalBind=function(a,d,e){var f=this,g=f.node?f.node.ownerDocument:document;a=c(a,f.id),a.d&&b(g).on(a.d,d,e),a.w&&b(window).on(a.w,d,e)},a.MediaElementPlayer.prototype.globalUnbind=function(a,d){var e=this,f=e.node?e.node.ownerDocument:document;a=c(a,e.id),a.d&&b(f).unbind(a.d,d),a.w&&b(window).unbind(a.w,d)}}(),"undefined"!=typeof b&&(b.fn.mediaelementplayer=function(c){return c===!1?this.each(function(){var a=b(this).data("mediaelementplayer");a&&a.remove(),b(this).removeData("mediaelementplayer")}):this.each(function(){b(this).data("mediaelementplayer",new a.MediaElementPlayer(this,c))}),this},b(document).ready(function(){b("."+a.MepDefaults.classPrefix+"player").mediaelementplayer()})),window.MediaElementPlayer=a.MediaElementPlayer}(mejs,mejs.$,window,document),function(a){a.extend(mejs.MepDefaults,{playText:"",pauseText:""}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){function f(a){"play"===a?(k.removeClass(g.options.classPrefix+"play").addClass(g.options.classPrefix+"pause"),l.attr({title:j,"aria-label":j})):(k.removeClass(g.options.classPrefix+"pause").addClass(g.options.classPrefix+"play"),l.attr({title:i,"aria-label":i}))}var g=this,h=g.options,i=h.playText?h.playText:mejs.i18n.t("mejs.play"),j=h.pauseText?h.pauseText:mejs.i18n.t("mejs.pause"),k=a('<div class="'+g.options.classPrefix+"button "+g.options.classPrefix+"playpause-button "+g.options.classPrefix+'play" ><button type="button" aria-controls="'+g.id+'" title="'+i+'" aria-label="'+j+'"></button></div>').appendTo(c).click(function(){e.paused?e.play():e.pause()}),l=k.find("button");f("pse"),e.addEventListener("play",function(){f("play")},!1),e.addEventListener("playing",function(){f("play")},!1),e.addEventListener("pause",function(){f("pse")},!1),e.addEventListener("paused",function(){f("pse")},!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{stopText:""}),a.extend(MediaElementPlayer.prototype,{buildstop:function(b,c,d,e){var f=this,g=f.options.stopText?f.options.stopText:mejs.i18n.t("mejs.stop");a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+"stop-button "+f.options.classPrefix+'stop"><button type="button" aria-controls="'+f.id+'" title="'+g+'" aria-label="'+g+'"></button></div>').appendTo(c).click(function(){e.paused||e.pause(),e.currentTime>0&&(e.setCurrentTime(0),e.pause(),c.find("."+f.options.classPrefix+"time-current").width("0px"),c.find("."+f.options.classPrefix+"time-handle").css("left","0px"),c.find("."+f.options.classPrefix+"time-float-current").html(mejs.Utility.secondsToTimeCode(0,b.options.alwaysShowHours)),c.find("."+f.options.classPrefix+"currenttime").html(mejs.Utility.secondsToTimeCode(0,b.options.alwaysShowHours)),d.find("."+f.options.classPrefix+"poster").show())})}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{enableProgressTooltip:!0}),a.extend(MediaElementPlayer.prototype,{buildprogress:function(b,c,d,e){var f=this,g=!1,h=!1,i=0,j=!1,k=b.options.autoRewind,l=b.options.enableProgressTooltip?'<span class="'+f.options.classPrefix+'time-float"><span class="'+f.options.classPrefix+'time-float-current">00:00</span><span class="'+f.options.classPrefix+'time-float-corner"></span></span>':"";a('<div class="'+f.options.classPrefix+'time-rail"><span class="'+f.options.classPrefix+"time-total "+f.options.classPrefix+'time-slider"><span class="'+f.options.classPrefix+'time-buffering"></span><span class="'+f.options.classPrefix+'time-loaded"></span><span class="'+f.options.classPrefix+'time-current"></span><span class="'+f.options.classPrefix+'time-handle"></span>'+l+"</span></div>").appendTo(c),c.find("."+f.options.classPrefix+"time-buffering").hide(),f.total=c.find("."+f.options.classPrefix+"time-total"),f.loaded=c.find("."+f.options.classPrefix+"time-loaded"),f.current=c.find("."+f.options.classPrefix+"time-current"),f.handle=c.find("."+f.options.classPrefix+"time-handle"),f.timefloat=c.find("."+f.options.classPrefix+"time-float"),f.timefloatcurrent=c.find("."+f.options.classPrefix+"time-float-current"),f.slider=c.find("."+f.options.classPrefix+"time-slider");var m=function(a){var c,d=f.total.offset(),h=f.total.width(),i=0,j=0,k=0;c=a.originalEvent&&a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.changedTouches?a.changedTouches[0].pageX:a.pageX,e.duration&&(c<d.left?c=d.left:c>h+d.left&&(c=h+d.left),k=c-d.left,i=k/h,j=.02>=i?0:i*e.duration,g&&j.toFixed(4)!==e.currentTime.toFixed(4)&&e.setCurrentTime(j),mejs.MediaFeatures.hasTouch||(f.timefloat.css("left",k),f.timefloatcurrent.html(mejs.Utility.secondsToTimeCode(j,b.options.alwaysShowHours)),f.timefloat.show()))},n=function(){var a=e.currentTime,c=mejs.i18n.t("mejs.time-slider"),d=mejs.Utility.secondsToTimeCode(a,b.options.alwaysShowHours),g=e.duration;f.slider.attr({role:"slider",tabindex:0}),e.paused?f.slider.attr({"aria-label":c,"aria-valuemin":0,"aria-valuemax":g,"aria-valuenow":a,"aria-valuetext":d}):f.slider.removeAttr("aria-label aria-valuemin aria-valuemax aria-valuenow aria-valuetext")},o=function(){var a=new Date;a-i>=1e3&&e.play()};f.slider.on("focus",function(a){b.options.autoRewind=!1}).on("blur",function(a){b.options.autoRewind=k}).on("keydown",function(a){if(new Date-i>=1e3&&(j=e.paused),f.options.keyActions.length){var c=a.keyCode,d=e.duration,g=e.currentTime,h=b.options.defaultSeekForwardInterval(e),k=b.options.defaultSeekBackwardInterval(e);switch(c){case 37:case 40:g-=k;break;case 39:case 38:g+=h;break;case 36:g=0;break;case 35:g=d;break;case 32:return void(mejs.Utility.isFirefox||(e.paused?e.play():e.pause()));case 13:return void(e.paused?e.play():e.pause());default:return}g=0>g?0:g>=d?d:Math.floor(g),i=new Date,j||e.pause(),g<e.duration&&!j&&setTimeout(o,1100),e.setCurrentTime(g),a.preventDefault(),a.stopPropagation()}}).on("click",function(a){var b=e.paused;b||e.pause(),m(a),b||e.play(),a.preventDefault(),a.stopPropagation()}),f.total.on("mousedown touchstart",function(a){(1===a.which||0===a.which)&&(g=!0,m(a),f.globalBind("mousemove.dur touchmove.dur",function(a){m(a)}),f.globalBind("mouseup.dur touchend.dur",function(a){g=!1,void 0!==f.timefloat&&f.timefloat.hide(),f.globalUnbind(".dur")}))}).on("mouseenter",function(a){h=!0,f.globalBind("mousemove.dur",function(a){m(a)}),void 0===f.timefloat||mejs.MediaFeatures.hasTouch||f.timefloat.show()}).on("mouseleave",function(a){h=!1,g||(f.globalUnbind(".dur"),void 0!==f.timefloat&&f.timefloat.hide())}),e.addEventListener("progress",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),e.addEventListener("timeupdate",function(a){b.setProgressRail(a),b.setCurrentRail(a),n(a)},!1),f.container.on("controlsresize",function(a){
b.setProgressRail(a),b.setCurrentRail(a)})},setProgressRail:function(a){var b=this,c=void 0!==a?a.target:b.media,d=null;c&&c.buffered&&c.buffered.length>0&&c.buffered.end&&c.duration?d=c.buffered.end(c.buffered.length-1)/c.duration:c&&void 0!==c.bytesTotal&&c.bytesTotal>0&&void 0!==c.bufferedBytes?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&0!==a.total&&(d=a.loaded/a.total),null!==d&&(d=Math.min(1,Math.max(0,d)),b.loaded&&b.total&&b.loaded.width(100*d+"%"))},setCurrentRail:function(){var a=this;if(void 0!==a.media.currentTime&&a.media.duration&&a.total&&a.handle){var b=Math.round(a.total.width()*a.media.currentTime/a.media.duration),c=b-Math.round(a.handle.outerWidth(!0)/2);b=a.media.currentTime/a.media.duration*100,a.current.width(b+"%"),a.handle.css("left",c)}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{duration:0,timeAndDurationSeparator:"<span> | </span>"}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){var f=this;a('<div class="'+f.options.classPrefix+'time" role="timer" aria-live="off"><span class="'+f.options.classPrefix+'currenttime">'+mejs.Utility.secondsToTimeCode(0,b.options.alwaysShowHours)+"</span></div>").appendTo(c),f.currenttime=f.controls.find("."+f.options.classPrefix+"currenttime"),e.addEventListener("timeupdate",function(){f.controlsAreVisible&&b.updateCurrent()},!1)},buildduration:function(b,c,d,e){var f=this;c.children().last().find("."+f.options.classPrefix+"currenttime").length>0?a(f.options.timeAndDurationSeparator+'<span class="'+f.options.classPrefix+'duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours)+"</span>").appendTo(c.find("."+f.options.classPrefix+"time")):(c.find("."+f.options.classPrefix+"currenttime").parent().addClass(f.options.classPrefix+"currenttime-container"),a('<div class="'+f.options.classPrefix+"time "+f.options.classPrefix+'duration-container"><span class="'+f.options.classPrefix+'duration">'+mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours)+"</span></div>").appendTo(c)),f.durationD=f.controls.find("."+f.options.classPrefix+"duration"),e.addEventListener("timeupdate",function(){f.controlsAreVisible&&b.updateDuration()},!1)},updateCurrent:function(){var a=this,b=a.media.currentTime;isNaN(b)&&(b=0),a.currenttime&&a.currenttime.html(mejs.Utility.secondsToTimeCode(b,a.options.alwaysShowHours))},updateDuration:function(){var a=this,b=a.media.duration;(isNaN(b)||b==1/0||0>b)&&(a.media.duration=a.options.duration=b=0),a.options.duration>0&&(b=a.options.duration),a.container.toggleClass(a.options.classPrefix+"long-video",b>3600),a.durationD&&b>0&&a.durationD.html(mejs.Utility.secondsToTimeCode(b,a.options.alwaysShowHours))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("mejs.mute-toggle"),allyVolumeControlText:mejs.i18n.t("mejs.volume-help-text"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(b,c,d,e){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var f=this,g=f.isVideo?f.options.videoVolume:f.options.audioVolume,h="horizontal"===g?a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+"volume-button"+f.options.classPrefix+'mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button></div><a href="javascript:void(0);" class="'+f.options.classPrefix+'horizontal-volume-slider"><span class="'+f.options.classPrefix+'offscreen">'+f.options.allyVolumeControlText+'</span><div class="'+f.options.classPrefix+'horizontal-volume-total"><div class="'+f.options.classPrefix+'horizontal-volume-current"></div><div class="'+f.options.classPrefix+'horizontal-volume-handle"></div></div></a>').appendTo(c):a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+"volume-button "+f.options.classPrefix+'mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button><a href="javascript:void(0);" class="'+f.options.classPrefix+'volume-slider"><span class="'+f.options.classPrefix+'offscreen">'+f.options.allyVolumeControlText+'</span><div class="'+f.options.classPrefix+'volume-total"><div class="'+f.options.classPrefix+'volume-current"></div><div class="'+f.options.classPrefix+'volume-handle"></div></div></a></div>').appendTo(c),i=f.container.find("."+f.options.classPrefix+"volume-slider, ."+f.options.classPrefix+"horizontal-volume-slider"),j=f.container.find("."+f.options.classPrefix+"volume-total, ."+f.options.classPrefix+"horizontal-volume-total"),k=f.container.find("."+f.options.classPrefix+"volume-current, ."+f.options.classPrefix+"horizontal-volume-current"),l=f.container.find("."+f.options.classPrefix+"volume-handle, ."+f.options.classPrefix+"horizontal-volume-handle"),m=function(a){a=Math.max(0,a),a=Math.min(a,1),0===a?(h.removeClass(f.options.classPrefix+"mute").addClass(f.options.classPrefix+"unmute"),h.children("button").attr("title",mejs.i18n.t("mejs.unmute")).attr("aria-label",mejs.i18n.t("mejs.unmute"))):(h.removeClass(f.options.classPrefix+"unmute").addClass(f.options.classPrefix+"mute"),h.children("button").attr("title",mejs.i18n.t("mejs.mute")).attr("aria-label",mejs.i18n.t("mejs.mute")));var b=100*a+"%";"vertical"===g?(k.css({bottom:"0",height:b}),l.css({bottom:b,marginBottom:-l.height()/2+"px"})):(k.css({left:"0",width:b}),l.css({left:b,marginLeft:-l.width()/2+"px"}))},n=function(a){var b=null,c=j.offset();if("vertical"===g){var d=j.height(),f=a.pageY-c.top;if(b=(d-f)/d,0===c.top||0===c.left)return}else{var h=j.width(),i=a.pageX-c.left;b=i/h}b=Math.max(0,b),b=Math.min(b,1),m(b),0===b?e.setMuted(!0):e.setMuted(!1),e.setVolume(b)},o=!1,p=!1;h.on("mouseenter focusin",function(){i.show(),p=!0}).on("mouseleave focusout",function(){p=!1,o||"vertical"!==g||i.hide()});var q=function(){var a=Math.floor(100*e.volume);i.attr({"aria-label":mejs.i18n.t("mejs.volume-slider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a,"aria-valuetext":a+"%",role:"slider",tabindex:-1})};i.on("mouseover",function(){p=!0}).on("mousedown",function(a){return n(a),f.globalBind("mousemove.vol",function(a){n(a)}),f.globalBind("mouseup.vol",function(){o=!1,f.globalUnbind(".vol"),p||"vertical"!==g||i.hide()}),o=!0,!1}).on("keydown",function(a){if(f.options.keyActions.length){var b=a.keyCode,c=e.volume;switch(b){case 38:c=Math.min(c+.1,1);break;case 40:c=Math.max(0,c-.1);break;default:return!0}return o=!1,m(c),e.setVolume(c),!1}}),h.find("button").click(function(){e.setMuted(!e.muted)}),h.find("button").on("focus",function(){i.hasClass(f.options.classPrefix+"horizontal-volume-slider")||i.show()}).on("blur",function(){i.hasClass(f.options.classPrefix+"horizontal-volume-slider")||i.hide()}),e.addEventListener("volumechange",function(a){o||(e.muted?(m(0),h.removeClass(f.options.classPrefix+"mute").addClass(f.options.classPrefix+"unmute")):(m(e.volume),h.removeClass(f.options.classPrefix+"unmute").addClass(f.options.classPrefix+"mute"))),q(a)},!1),0===b.options.startVolume&&e.setMuted(!0);var r=null!==f.media.rendererName&&f.media.rendererName.match(/(native|html5)/);r&&e.setVolume(b.options.startVolume),f.container.on("controlsresize",function(){e.muted?(m(0),h.removeClass(f.options.classPrefix+"mute").addClass(f.options.classPrefix+"unmute")):(m(e.volume),h.removeClass(f.options.classPrefix+"unmute").addClass(f.options.classPrefix+"mute"))})}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:!0,fullscreenText:""}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(b,c,d,e){if(b.isVideo){b.isInIframe=window.location!=window.parent.location,e.addEventListener("loadstart",function(){b.detectFullscreenMode()});var f=this,g=null,h=f.options.fullscreenText?f.options.fullscreenText:mejs.i18n.t("mejs.fullscreen"),i=a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+'fullscreen-button"><button type="button" aria-controls="'+f.id+'" title="'+h+'" aria-label="'+h+'"></button></div>').appendTo(c).on("click",function(){var a=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||b.isFullScreen;a?b.exitFullScreen():b.enterFullScreen()}).on("mouseover",function(){if("plugin-hover"===f.fullscreenMode){null!==g&&(clearTimeout(g),g=null);var a=i.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!0)}}).on("mouseout",function(){"plugin-hover"===f.fullscreenMode&&(null!==g&&clearTimeout(g),g=setTimeout(function(){e.hideFullscreenButton()},1500))});if(b.fullscreenBtn=i,f.globalBind("keydown",function(a){27===a.keyCode&&(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||f.isFullScreen)&&b.exitFullScreen()}),f.normalHeight=0,f.normalWidth=0,mejs.MediaFeatures.hasTrueNativeFullScreen){var j=function(){b.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(b.isNativeFullScreen=!0,b.setControlsSize()):(b.isNativeFullScreen=!1,b.exitFullScreen()))};b.globalBind(mejs.MediaFeatures.fullScreenEventName,j)}}},detectFullscreenMode:function(){var a=this,b="",c=mejs.MediaFeatures,d=null!==a.media.rendererName&&a.media.rendererName.match(/(native|html5)/);return c.hasTrueNativeFullScreen&&d?b="native-native":!c.hasTrueNativeFullScreen||d||c.hasFirefoxPluginMovingProblem?a.usePluginFullScreen?mejs.MediaFeatures.supportsPointerEvents?(b="plugin-click",a.createPluginClickThrough()):b="plugin-hover":b="fullwindow":b="plugin-native",a.fullscreenMode=b,b},createPluginClickThrough:function(){var b=this;if(!b.isPluginClickThroughCreated){var c,d,e=!1,f=function(){if(e){for(var a in g)g[a].hide();b.fullscreenBtn.css("pointer-events",""),b.controls.css("pointer-events",""),b.media.removeEventListener("click",b.clickToPlayPauseCallback),e=!1}},g={},h=["top","left","right","bottom"],i=function(){var a=fullscreenBtn.offset().left-b.container.offset().left,d=fullscreenBtn.offset().top-b.container.offset().top,e=fullscreenBtn.outerWidth(!0),f=fullscreenBtn.outerHeight(!0),h=b.container.width(),i=b.container.height();for(c in g)g[c].css({position:"absolute",top:0,left:0});g.top.width(h).height(d),g.left.width(a).height(f).css({top:d}),g.right.width(h-a-e).height(f).css({top:d,left:a+e}),g.bottom.width(h).height(i-f-d).css({top:d+f})};for(b.globalBind("resize",function(){i()}),c=0,d=h.length;d>c;c++)g[h[c]]=a('<div class="'+b.options.classPrefix+'fullscreen-hover" />').appendTo(b.container).mouseover(f).hide();fullscreenBtn.on("mouseover",function(){if(!b.isFullScreen){var a=fullscreenBtn.offset(),d=player.container.offset();media.positionFullscreenButton(a.left-d.left,a.top-d.top,!1),b.fullscreenBtn.css("pointer-events","none"),b.controls.css("pointer-events","none"),b.media.addEventListener("click",b.clickToPlayPauseCallback);for(c in g)g[c].show();i(),e=!0}}),media.addEventListener("fullscreenchange",function(a){b.isFullScreen=!b.isFullScreen,b.isFullScreen?b.media.removeEventListener("click",b.clickToPlayPauseCallback):b.media.addEventListener("click",b.clickToPlayPauseCallback),f()}),b.globalBind("mousemove",function(a){if(e){var c=fullscreenBtn.offset();(a.pageY<c.top||a.pageY>c.top+fullscreenBtn.outerHeight(!0)||a.pageX<c.left||a.pageX>c.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),b.controls.css("pointer-events",""),e=!1)}}),b.isPluginClickThroughCreated=!0}},cleanfullscreen:function(a){a.exitFullScreen()},enterFullScreen:function(){var b=this,c=null!==b.media.rendererName&&b.media.rendererName.match(/(html5|native)/);if(mejs.MediaFeatures.isiOS&&mejs.MediaFeatures.hasiOSFullScreen&&"function"==typeof b.media.webkitEnterFullscreen)return void b.media.webkitEnterFullscreen();a(document.documentElement).addClass(b.options.classPrefix+"fullscreen"),b.normalHeight=b.container.height(),b.normalWidth=b.container.width(),"native-native"===b.fullscreenMode||"plugin-native"===b.fullscreenMode?(mejs.MediaFeatures.requestFullScreen(b.container[0]),b.isInIframe&&setTimeout(function e(){if(b.isNativeFullScreen){var c=.002,d=a(window).width(),f=screen.width,g=Math.abs(f-d),h=f*c;g>h?b.exitFullScreen():setTimeout(e,500)}},1e3)):"fullwindow"===b.fullscreeMode,b.container.addClass(b.options.classPrefix+"container-fullscreen").width("100%").height("100%"),b.containerSizeTimeout=setTimeout(function(){b.container.css({width:"100%",height:"100%"}),b.setControlsSize()},500),c?b.$media.width("100%").height("100%"):b.container.find("iframe, embed, object").width("100%").height("100%"),b.options.setDimensions&&b.media.setSize(screen.width,screen.height),b.layers.children("div").width("100%").height("100%"),b.fullscreenBtn&&b.fullscreenBtn.removeClass(b.options.classPrefix+"fullscreen").addClass(b.options.classPrefix+"unfullscreen"),b.setControlsSize(),b.isFullScreen=!0;var d=Math.min(screen.width/b.width,screen.height/b.height);b.container.find("."+b.options.classPrefix+"captions-text").css("font-size",100*d+"%"),b.container.find("."+b.options.classPrefix+"captions-text").css("line-height","normal"),b.container.find("."+b.options.classPrefix+"captions-position").css("bottom","45px"),b.container.trigger("enteredfullscreen")},exitFullScreen:function(){var b=this,c=null!==b.media.rendererName&&b.media.rendererName.match(/(native|html5)/);clearTimeout(b.containerSizeTimeout),mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),a(document.documentElement).removeClass(b.options.classPrefix+"fullscreen"),b.container.removeClass(b.options.classPrefix+"container-fullscreen"),b.options.setDimensions&&(b.container.width(b.normalWidth).height(b.normalHeight),c?b.$media.width(b.normalWidth).height(b.normalHeight):b.container.find("iframe, embed, object").width(b.normalWidth).height(b.normalHeight),b.media.setSize(b.normalWidth,b.normalHeight),b.layers.children("div").width(b.normalWidth).height(b.normalHeight)),b.fullscreenBtn.removeClass(b.options.classPrefix+"unfullscreen").addClass(b.options.classPrefix+"fullscreen"),b.setControlsSize(),b.isFullScreen=!1,b.container.find("."+b.options.classPrefix+"captions-text").css("font-size",""),b.container.find("."+b.options.classPrefix+"captions-text").css("line-height",""),b.container.find("."+b.options.classPrefix+"captions-position").css("bottom",""),b.container.trigger("exitedfullscreen")}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x",speedText:""}),a.extend(MediaElementPlayer.prototype,{buildspeed:function(b,c,d,e){var f=this,g=null!==f.media.rendererName&&f.media.rendererName.match(/(native|html5)/);if(g){for(var h,i,j=f.options.speedText?f.options.speedText:mejs.i18n.t("mejs.speed-rate"),k=[],l=!1,m=function(a){for(n=0,o=k.length;o>n;n++)if(k[n].value===a)return k[n].name},n=0,o=f.options.speeds.length;o>n;n++){var p=f.options.speeds[n];"string"==typeof p?(k.push({name:p+f.options.speedChar,value:p}),p===f.options.defaultSpeed&&(l=!0)):(k.push(p),p.value===f.options.defaultSpeed&&(l=!0))}for(l||k.push({name:f.options.defaultSpeed+f.options.speedChar,value:f.options.defaultSpeed}),k.sort(function(a,b){return parseFloat(b.value)-parseFloat(a.value)}),f.clearspeed(b),b.speedButton=a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+'speed-button"><button type="button" aria-controls="'+f.id+'" title="'+j+'" aria-label="'+j+'">'+m(f.options.defaultSpeed)+'</button><div class="'+f.options.classPrefix+"speed-selector "+f.options.classPrefix+'offscreen"><ul class="'+f.options.classPrefix+'speed-selector-list"></ul></div></div>').appendTo(c),n=0,il=k.length;n<il;n++)i=f.id+"-speed-"+k[n].value,b.speedButton.find("ul").append(a('<li class="'+f.options.classPrefix+'speed-selector-list-item"><input class="'+f.options.classPrefix+'speed-selector-input" type="radio" name="'+f.id+'_speed" disabled="disabled"value="'+k[n].value+'" id="'+i+'" '+(k[n].value===f.options.defaultSpeed?' checked="checked"':"")+' /><label class="'+f.options.classPrefix+"speed-selector-label"+(k[n].value===f.options.defaultSpeed?" "+f.options.classPrefix+"speed-selected":"")+'">'+k[n].name+"</label></li>"));h=f.options.defaultSpeed,a.each(b.speedButton.find('input[type="radio"]'),function(){a(this).prop("disabled",!1)}),b.speedSelector=b.speedButton.find("."+f.options.classPrefix+"speed-selector"),b.speedButton.on("mouseenter focusin",function(a){b.speedSelector.removeClass(f.options.classPrefix+"offscreen").height(b.speedSelector.find("ul").outerHeight(!0)).css("top",-1*b.speedSelector.height()+"px")}).on("mouseleave focusout",function(a){b.speedSelector.addClass(f.options.classPrefix+"offscreen")}).on("click","input[type=radio]",function(){var c=a(this),d=c.val();h=d,e.playbackRate=parseFloat(d),b.speedButton.find("button").html(m(d)).end().find("."+f.options.classPrefix+"speed-selected").removeClass(f.options.classPrefix+"speed-selected").end().find('input[type="radio"]'),c.prop("checked",!0).siblings("."+f.options.classPrefix+"speed-selector-label").addClass(f.options.classPrefix+"speed-selected")}).on("click","."+f.options.classPrefix+"speed-selector-label",function(){a(this).siblings('input[type="radio"]').trigger("click")}).on("keydown",function(a){a.stopPropagation()}),e.addEventListener("loadedmetadata",function(a){h&&(e.playbackRate=parseFloat(h))},!0)}},clearspeed:function(a){a&&(a.speedButton&&a.speedButton.remove(),a.speedSelector&&a.speedSelector.remove())}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"",tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(b,c,d,e){if(0!==b.tracks.length){var f,g,h=this,i=h.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':"",j=h.options.tracksText?h.options.tracksText:mejs.i18n.t("mejs.captions-subtitles");if(h.domNode.textTracks)for(f=h.domNode.textTracks.length-1;f>=0;f--)h.domNode.textTracks[f].mode="hidden";h.cleartracks(b),b.chapters=a('<div class="'+h.options.classPrefix+"chapters "+h.options.classPrefix+'layer"></div>').prependTo(d).hide(),b.captions=a('<div class="'+h.options.classPrefix+"captions-layer "+h.options.classPrefix+'layer"><div class="'+h.options.classPrefix+"captions-position "+h.options.classPrefix+'captions-position-hover" '+i+'><span class="'+h.options.classPrefix+'captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find("."+h.options.classPrefix+"captions-text"),b.captionsButton=a('<div class="'+h.options.classPrefix+"button "+h.options.classPrefix+'captions-button"><button type="button" aria-controls="'+h.id+'" title="'+j+'" aria-label="'+j+'"></button><div class="'+h.options.classPrefix+"captions-selector "+h.options.classPrefix+'offscreen"><ul class="'+h.options.classPrefix+'captions-selector-list"><li class="'+h.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+h.options.classPrefix+'captions-selector-input" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" /><label class="'+h.options.classPrefix+"captions-selector-label "+h.options.classPrefix+'captions-selected" for="'+b.id+'_captions_none">'+mejs.i18n.t("mejs.none")+"</label></li></ul></div></div>").appendTo(c);var k=0;for(f=0;f<b.tracks.length;f++)g=b.tracks[f].kind,("subtitles"===g||"captions"===g)&&k++;h.options.toggleCaptionsButtonWhenOnlyOne&&1===k?b.captionsButton.on("click",function(){var a="none";null===b.selectedTrack&&(a=b.tracks[0].trackId),b.setTrack(a)}):b.captionsButton.on("mouseenter focusin",function(){a(this).find("."+h.options.classPrefix+"captions-selector").removeClass(h.options.classPrefix+"offscreen")}).on("mouseleave focusout",function(){a(this).find("."+h.options.classPrefix+"captions-selector").addClass(h.options.classPrefix+"offscreen")}).on("click","input[type=radio]",function(){b.setTrack(this.value)}).on("click","."+h.options.classPrefix+"captions-selector-label",function(){a(this).siblings('input[type="radio"]').trigger("click")}).on("keydown",function(a){a.stopPropagation()}),b.options.alwaysShowControls?b.container.find("."+h.options.classPrefix+"captions-position").addClass(h.options.classPrefix+"captions-position-hover"):b.container.on("controlsshown",function(){b.container.find("."+h.options.classPrefix+"captions-position").addClass(h.options.classPrefix+"captions-position-hover")}).on("controlshidden",function(){e.paused||b.container.find("."+h.options.classPrefix+"captions-position").removeClass(h.options.classPrefix+"captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1;var l=b.tracks.length;for(f=0;l>f;f++)g=b.tracks[f].kind,("subtitles"===g||"captions"===g)&&b.addTrackButton(b.tracks[f].trackId,b.tracks[f].srclang,b.tracks[f].label);b.loadNextTrack(),e.addEventListener("timeupdate",function(){b.displayCaptions()},!1),""!==b.options.slidesSelector&&(b.slidesContainer=a(b.options.slidesSelector),e.addEventListener("timeupdate",function(){b.displaySlides()},!1)),e.addEventListener("loadedmetadata",function(){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.removeClass(h.options.classPrefix+"offscreen"),b.chapters.fadeIn(200).height(b.chapters.find("."+h.options.classPrefix+"chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).addClass(h.options.classPrefix+"offscreen"),a(this).css("display","block")})}),h.container.on("controlsresize",function(){h.adjustLanguageBox()}),null!==b.node.getAttribute("autoplay")&&b.chapters.addClass(h.options.classPrefix+"offscreen")}},cleartracks:function(a){a&&(a.captions&&a.captions.remove(),a.chapters&&a.chapters.remove(),a.captionsText&&a.captionsText.remove(),a.captionsButton&&a.captionsButton.remove())},setTrack:function(a){var b,c=this;if(c.captionsButton.find('input[type="radio"]').prop("checked",!1).end().find("."+c.options.classPrefix+"captions-selected").removeClass(c.options.classPrefix+"captions-selected").end().find('input[value="'+a+'"]').prop("checked",!0).siblings("."+c.options.classPrefix+"captions-selector-label").addClass(c.options.classPrefix+"captions-selected"),"none"===a)return c.selectedTrack=null,void c.captionsButton.removeClass(c.options.classPrefix+"captions-enabled");for(b=0;b<c.tracks.length;b++)if(c.tracks[b].trackId===a){null===c.selectedTrack&&c.captionsButton.addClass(c.options.classPrefix+"captions-enabled"),c.selectedTrack=c.tracks[b],c.captions.attr("lang",c.selectedTrack.srclang),c.displayCaptions();break}},loadNextTrack:function(){var a=this;a.trackToLoad++,a.trackToLoad<a.tracks.length?(a.isLoadingTrack=!0,a.loadTrack(a.trackToLoad)):(a.isLoadingTrack=!1,a.checkForTracks())},loadTrack:function(b){var c=this,d=c.tracks[b],e=function(){d.isLoaded=!0,c.enableTrackButton(d),c.loadNextTrack()};(void 0!==d.src||""!==d.src)&&a.ajax({url:d.src,dataType:"text",success:function(a){"string"==typeof a&&/<tt\s+xml/gi.exec(a)?d.entries=mejs.TrackFormatParser.dfxp.parse(a):d.entries=mejs.TrackFormatParser.webvtt.parse(a),e(),"chapters"==d.kind&&c.media.addEventListener("play",function(){c.media.duration>0&&c.displayChapters(d)},!1),"slides"==d.kind&&c.setupSlides(d)},error:function(){c.removeTrackButton(d.trackId),c.loadNextTrack()}})},enableTrackButton:function(b){var c=this,d=b.srclang,e=b.label;""===e&&(e=mejs.i18n.t(mejs.language.codes[d])||d),a("#"+b.trackId).prop("disabled",!1).siblings("."+c.options.classPrefix+"captions-selector-label").html(e),c.options.startLanguage===d&&a("#"+b.trackId).prop("checked",!0).trigger("click"),c.adjustLanguageBox()},removeTrackButton:function(a){var b=this;b.captionsButton.find("input[id="+a+"]").closest("li").remove(),b.adjustLanguageBox()},addTrackButton:function(b,c,d){var e=this;""===d&&(d=mejs.i18n.t(mejs.language.codes[c])||c),e.captionsButton.find("ul").append(a('<li class="'+e.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+e.options.classPrefix+'captions-selector-input" name="'+e.id+'_captions" id="'+b+'" value="'+b+'" disabled="disabled" /><label class="'+e.options.classPrefix+'captions-selector-label">'+d+" (loading)</label></li>")),e.adjustLanguageBox(),e.container.find("."+e.options.classPrefix+"captions-translations option[value="+c+"]").remove()},adjustLanguageBox:function(){var a=this;a.captionsButton.find("."+a.options.classPrefix+"captions-selector").height(a.captionsButton.find("."+a.options.classPrefix+"captions-selector-list").outerHeight(!0)+a.captionsButton.find("."+a.options.classPrefix+"captions-translations").outerHeight(!0))},checkForTracks:function(){var a=this,b=!1;if(a.options.hideCaptionsButtonWhenEmpty){for(var c=0;c<a.tracks.length;c++){var d=a.tracks[c].kind;if(("subtitles"===d||"captions"===d)&&a.tracks[c].isLoaded){b=!0;break}}b||(a.captionsButton.hide(),a.setControlsSize())}},displayCaptions:function(){if(void 0!==this.tracks){var a,b=this,c=b.selectedTrack;if(null!==c&&c.isLoaded){if(a=b.searchTrackPosition(c.entries,b.media.currentTime),a>-1)return b.captionsText.html(c.entries[a].text).attr("class",b.options.classPrefix+"captions-text "+(c.entries[a].identifier||"")),void b.captions.show().height(0);b.captions.hide()}else b.captions.hide()}},setupSlides:function(a){var b=this;b.slides=a,b.slides.entries.imgs=[b.slides.entries.length],b.showSlide(0)},showSlide:function(b){if(void 0!==this.tracks&&void 0!==this.slidesContainer){var c=this,d=c.slides.entries[b].text,e=c.slides.entries[b].imgs;void 0===e||void 0===e.fadeIn?c.slides.entries[b].imgs=e=a('<img src="'+d+'">').on("load",function(){e.appendTo(c.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):e.is(":visible")||e.is(":animated")||e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(void 0!==this.slides){var a=this,b=a.slides,c=a.searchTrackPosition(b.entries,a.media.currentTime);return c>-1?void a.showSlide(c):void 0}},displayChapters:function(){var a,b=this;for(a=0;a<b.tracks.length;a++)if("chapters"===b.tracks[a].kind&&b.tracks[a].isLoaded){b.drawChapters(b.tracks[a]),b.hasChapters=!0;break}},drawChapters:function(b){var c,d,e=this,f=0,g=0,h=b.entries.length;for(e.chapters.empty(),c=0;h>c;c++)d=b.entries[c].stop-b.entries[c].start,f=Math.floor(d/e.media.duration*100),(f+g>100||c===b.entries.length-1&&100>f+g)&&(f=100-g),e.chapters.append(a('<div class="'+e.options.classPrefix+'chapter" rel="'+b.entries.times[c].start+'" style="left: '+g.toString()+"%; width: "+f.toString()+'%;"><div class="'+e.options.classPrefix+"chapter-block"+(c===b.entries.length-1?" "+e.options.classPrefix+"chapter-block-last":"")+'"><span class="ch-title">'+b.entries[c].text+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries[c].start,e.options.alwaysShowHours)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries[c].stop,e.options.alwaysShowHours)+"</span></div></div>")),g+=f;e.chapters.find("."+e.options.classPrefix+"chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel"))),e.media.paused&&e.media.play()}),e.chapters.show()},searchTrackPosition:function(a,b){for(var c,d,e,f=0,g=a.length-1;g>=f;){if(c=f+g>>1,d=a[c].start,e=a[c].stop,b>=d&&e>b)return c;b>d?f=c+1:d>b&&(g=c-1)}return-1}}),mejs.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(b){for(var c,d,e,f=0,g=mejs.TrackFormatParser.split2(b,/\r?\n/),h=[];f<g.length;f++){if(c=this.pattern_timecode.exec(g[f]),c&&f<g.length){for(f-1>=0&&""!==g[f-1]&&(e=g[f-1]),f++,d=g[f],f++;""!==g[f]&&f<g.length;)d=d+"\n"+g[f],f++;d=a.trim(d).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),h.push({identifier:e,start:0===mejs.Utility.convertSMPTEtoSeconds(c[1])?.2:mejs.Utility.convertSMPTEtoSeconds(c[1]),stop:mejs.Utility.convertSMPTEtoSeconds(c[3]),text:d,settings:c[5]})}e=""}return h}},dfxp:{parse:function(b){b=a(b).filter("tt");var c,d=0,e=b.children("div").eq(0),f=e.find("p"),g=b.find("#"+e.attr("style")),h=[];if(g.length){var i=g.removeAttr("id").get(0).attributes;if(i.length)for(c={},d=0;d<i.length;d++)c[i[d].name.split(":")[1]]=i[d].value}for(d=0;d<f.length;d++){var j,k={start:null,stop:null,style:null,text:null};if(f.eq(d).attr("begin")&&(k.start=mejs.Utility.convertSMPTEtoSeconds(f.eq(d).attr("begin"))),!k.start&&f.eq(d-1).attr("end")&&(k.start=mejs.Utility.convertSMPTEtoSeconds(f.eq(d-1).attr("end"))),f.eq(d).attr("end")&&(k.stop=mejs.Utility.convertSMPTEtoSeconds(f.eq(d).attr("end"))),!k.stop&&f.eq(d+1).attr("begin")&&(k.stop=mejs.Utility.convertSMPTEtoSeconds(f.eq(d+1).attr("begin"))),c){j="";for(var l in c)j+=l+":"+c[l]+";"}j&&(k.style=j),0===k.start&&(k.start=.2),k.text=a.trim(f.eq(d).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),h.push(k)}return h}},split2:function(a,b){return a.split(b)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(a,b){var c,d=[],e="";for(c=0;c<a.length;c++)e+=a.substring(c,c+1),b.test(e)&&(d.push(e.replace(b,"")),e="");return d.push(e),d})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{sourcechooserText:""}),a.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(b,c,d,e){var f,g=this,h=g.options.sourcechooserText?g.options.sourcechooserText:mejs.i18n.t("mejs.source-chooser"),i=[];for(var j in this.node.children){var k=this.node.children[j];"SOURCE"===k.nodeName&&i.push(k)}if(!(i.length<=1)){b.sourcechooserButton=a('<div class="'+g.options.classPrefix+"button "+g.options.classPrefix+'sourcechooser-button"><button type="button" role="button" aria-haspopup="true" aria-owns="'+g.id+'" title="'+h+'" aria-label="'+h+'"></button><div class="'+g.options.classPrefix+"sourcechooser-selector "+g.options.classPrefix+'offscreen" role="menu" aria-expanded="false" aria-hidden="true"><ul></ul></div></div>').appendTo(c).hover(function(){clearTimeout(f),b.showSourcechooserSelector()},function(){f=setTimeout(function(){b.hideSourcechooserSelector()},500)}).on("keydown",function(c){var d=c.keyCode;switch(d){case 32:mejs.MediaFeatures.isFirefox||b.showSourcechooserSelector(),a(this).find("."+g.options.classPrefix+"sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 13:b.showSourcechooserSelector(),a(this).find("."+g.options.classPrefix+"sourcechooser-selector").find("input[type=radio]:checked").first().focus();break;case 27:b.hideSourcechooserSelector(),a(this).find("button").focus();break;default:return!0}}).on("focusout",mejs.Utility.debounce(function(c){setTimeout(function(){
var c=a(document.activeElement).closest("."+g.options.classPrefix+"sourcechooser-selector");c.length||b.hideSourcechooserSelector()},0)},100)).on("click","input[type=radio]",function(){a(this).attr("aria-selected",!0).attr("checked","checked"),a(this).closest("."+g.options.classPrefix+"sourcechooser-selector").find("input[type=radio]").not(this).attr("aria-selected","false").removeAttr("checked");var b=this.value;if(e.currentSrc!==b){var c=e.currentTime,d=e.paused;e.pause(),e.setSrc(b),e.load(),e.addEventListener("loadedmetadata",function(a){e.currentTime=c},!0);var f=function(a){d||e.play(),e.removeEventListener("canplay",f,!0)};e.addEventListener("canplay",f,!0),e.load()}}).on("click","button",function(c){a(this).siblings("."+g.options.classPrefix+"sourcechooser-selector").hasClass(g.options.classPrefix+"offscreen")?(b.showSourcechooserSelector(),a(this).siblings("."+g.options.classPrefix+"sourcechooser-selector").find("input[type=radio]:checked").first().focus()):b.hideSourcechooserSelector()});for(var l in i){var m=i[l];void 0!==m.type&&"SOURCE"===m.nodeName&&null!==e.canPlayType&&b.addSourceButton(m.src,m.title,m.type,e.src===m.src)}}},addSourceButton:function(b,c,d,e){var f=this;(""===c||void 0===c)&&(c=b),d=d.split("/")[1],f.sourcechooserButton.find("ul").append(a('<li><input type="radio" name="'+f.id+'_sourcechooser" id="'+f.id+"_sourcechooser_"+c+d+'" role="menuitemradio" value="'+b+'" '+(e?'checked="checked"':"")+'aria-selected="'+e+'" /><label for="'+f.id+"_sourcechooser_"+c+d+'" aria-hidden="true">'+c+" ("+d+")</label></li>")),f.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var a=this;a.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector").height(a.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector ul").outerHeight(!0))},hideSourcechooserSelector:function(){var a=this;void 0!==a.sourcechooserButton&&a.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector").find("input[type=radio]").length&&this.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector").addClass(a.options.classPrefix+"offscreen").attr("aria-expanded","false").attr("aria-hidden","true").find("input[type=radio]").attr("tabindex","-1")},showSourcechooserSelector:function(){var a=this;void 0!==a.sourcechooserButton&&a.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector").find("input[type=radio]").length&&this.sourcechooserButton.find("."+a.options.classPrefix+"sourcechooser-selector").removeClass(a.options.classPrefix+"offscreen").attr("aria-expanded","true").attr("aria-hidden","false").find("input[type=radio]").attr("tabindex","0")}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){return void 0===a.enterFullScreen?null:a.isFullScreen?mejs.i18n.t("mejs.fullscreen-off"):mejs.i18n.t("mejs.fullscreen-on")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("mejs.unmute"):mejs.i18n.t("mejs.mute")},click:function(a){a.media.muted?a.setMuted(!1):a.setMuted(!0)}},{isSeparator:!0},{render:function(a){return mejs.i18n.t("mejs.download-video")},click:function(a){window.location.href=a.media.currentSrc}}]}),a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b,c,d,e){b.contextMenu=a('<div class="'+t.options.classPrefix+'contextmenu"></div>').appendTo(a("body")).hide(),b.container.on("contextmenu",function(a){return b.isContextMenuEnabled?(a.preventDefault(),b.renderContextMenu(a.clientX-1,a.clientY-1),!1):void 0}),b.container.on("click",function(){b.contextMenu.hide()}),b.contextMenu.on("mouseleave",function(){b.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer(),a.contextMenuTimer=setTimeout(function(){a.hideContextMenu(),a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;null!==a&&void 0!==a&&(clearTimeout(a),a=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,c){for(var d=this,e="",f=d.options.contextMenuItems,g=0,h=f.length;h>g;g++)if(f[g].isSeparator)e+='<div class="'+d.options.classPrefix+'contextmenu-separator"></div>';else{var i=f[g].render(d);null!==i&&void 0!==i&&(e+='<div class="'+d.options.classPrefix+'contextmenu-item" data-itemindex="'+g+'" id="element-'+1e6*Math.random()+'">'+i+"</div>")}d.contextMenu.empty().append(a(e)).css({top:c,left:b}).show(),d.contextMenu.find("."+d.options.classPrefix+"contextmenu-item").each(function(){var b=a(this),c=parseInt(b.data("itemindex"),10),e=d.options.contextMenuItems[c];"undefined"!=typeof e.show&&e.show(b,d),b.click(function(){"undefined"!=typeof e.click&&e.click(d),d.contextMenu.hide()})}),setTimeout(function(){d.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:""}),a.extend(MediaElementPlayer.prototype,{buildskipback:function(b,c,d,e){var f=this,g=mejs.i18n.t("mejs.time-skip-back",f.options.skipBackInterval),h=f.options.skipBackText?f.options.skipBackText.replace("%1",f.options.skipBackInterval):g;a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+'skip-back-button"><button type="button" aria-controls="'+f.id+'" title="'+h+'" aria-label="'+h+'">'+f.options.skipBackInterval+"</button></div>").appendTo(c).click(function(){e.duration&&(e.setCurrentTime(Math.max(e.currentTime-f.options.skipBackInterval,0)),a(this).find("button").blur())})}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{jumpForwardInterval:30,jumpForwardText:""}),a.extend(MediaElementPlayer.prototype,{buildjumpforward:function(b,c,d,e){var f=this,g=mejs.i18n.t("mejs.time-jump-forward",f.options.jumpForwardInterval),h=f.options.jumpForwardText?f.options.jumpForwardText.replace("%1",f.options.jumpForwardInterval):g;a('<div class="'+f.options.classPrefix+"button "+f.options.classPrefix+'jump-forward-button"><button type="button" aria-controls="'+f.id+'" title="'+h+'" aria-label="'+h+'">'+f.options.jumpForwardInterval+"</button></div>").appendTo(c).click(function(){e.duration&&(e.setCurrentTime(Math.min(e.currentTime+f.options.jumpForwardInterval,e.duration)),a(this).find("button").blur())})}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{postrollCloseText:""}),a.extend(MediaElementPlayer.prototype,{buildpostroll:function(b,c,d,e){var f=this,g=f.options.postrollCloseText?f.options.postrollCloseText:mejs.i18n.t("mejs.close"),h=f.container.find('link[rel="postroll"]').attr("href");void 0!==h&&(b.postroll=a('<div class="'+f.options.classPrefix+"postroll-layer "+f.options.classPrefix+'layer"><a class="'+f.options.classPrefix+'postroll-close" onclick="$(this).parent().hide();return false;">'+g+'</a><div class="'+f.options.classPrefix+'postroll-layer-content"></div></div>').prependTo(d).hide(),f.media.addEventListener("ended",function(c){a.ajax({dataType:"html",url:h,success:function(a,b){d.find("."+f.options.classPrefix+"postroll-layer-content").html(a)}}),b.postroll.show()},!1))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{markerColor:"#E9BC3D",markers:[],markerCallback:function(){}}),a.extend(MediaElementPlayer.prototype,{buildmarkers:function(a,b,c,d){var e=this,f=0,g=-1,h=-1,i=-1,j=-1;for(f=0;f<a.options.markers.length;++f)b.find("."+e.options.classPrefix+"time-total").append('<span class="'+e.options.classPrefix+'time-marker"></span>');d.addEventListener("durationchange",function(c){a.setmarkers(b)}),d.addEventListener("timeupdate",function(b){for(g=Math.floor(d.currentTime),i>g?j>g&&(j=-1):i=g,f=0;f<a.options.markers.length;++f)h=Math.floor(a.options.markers[f]),g===h&&h!==j&&(a.options.markerCallback(d,d.currentTime),j=h)},!1)},setmarkers:function(b){var c,d=this,e=0;for(e=0;e<d.options.markers.length;++e)Math.floor(d.options.markers[e])<=d.media.duration&&Math.floor(d.options.markers[e])>=0&&(c=100*Math.floor(d.options.markers[e])/d.media.duration,a(b.find("."+d.options.classPrefix+"time-marker")[e]).css({width:"1px",left:c+"%",background:d.options.markerColor}))}})}(mejs.$);