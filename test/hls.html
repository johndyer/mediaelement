<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>MediaElement.js 3.0 - audio/video unification library</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
        <link href="../src/css/mediaelementplayer-simple.css" rel="stylesheet">
        <style>

            #container {
                padding: 0 20px 50px;
            }

        </style>
    </head>
    <body>

        <div id="container">

            <h1>MediaElement.js</h1>

            <h2>Native HLS Stream</h2>

            <video  width="640" height="360" preload="none" class="mejs-player" >
                <source src="http://www.streambox.fr/playlists/test_001/stream.m3u8" type="application/x-mpegURL" />
            </video>

        </div>

        <script src="../src/js/mediaelement-header.js"></script>
        <script src="../src/js/mediaelement-namespace.js"></script>
        <script src="../src/js/mediaelement-utility.js"></script>
        <script src="../src/js/mediaelement-utility-oldie.js"></script>
        <script src="../src/js/mediaelement-core.js"></script>
        <script src="../src/js/mediaelement-renderer-html5.js"></script>
        <script src="../src/js/mediaelement-renderer-mdash.js"></script>
        <script src="../src/js/mediaelement-renderer-hls.js"></script>
        <script src="../src/js/mediaelement-renderer-flv.js"></script>
        <script src="../src/js/mediaelement-renderer-youtube-iframe.js"></script>
        <script src="../src/js/mediaelement-renderer-vimeo.js"></script>
        <script src="../src/js/mediaelement-renderer-dailymotion-iframe.js"></script>
        <script src="../src/js/mediaelement-renderer-facebook.js"></script>
        <script src="../src/js/mediaelement-renderer-soundcloud.js"></script>
        <script src="../src/js/mediaelement-renderer-flash.js"></script>
        <script src="../src/js/mediaelement-i18n.js"></script>
        <script src="../src/js/mediaelement-i18n-locale-en.js"></script>
        <script src="../src/js/mediaelementplayer-simple.js"></script>
        <script>


            var elements = mejs.getElementsByClassName('mejs-player');

            for (var i=0, il=elements.length; i<il; i++) {
                var player = new MediaElementPlayerSimple(elements[i], {
                    pluginPath: '../build/',
                    hls: {
                        debug: true,
                        autoStartLoad: false
                    },
                    success: function(media, node) {

                        media.addEventListener('hlsMediaAttached', function() {
                            console.log('Attached!');
                        });

                        media.addEventListener('hlsManifestParsed', function() {
                            console.log('Manifest parsed!');
                            media.hlsPlayer.startLoad();

                        });
                    }
                });
            }

        </script>

    </body>
</html>
